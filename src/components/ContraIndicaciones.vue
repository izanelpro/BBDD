<template>
    <div class="container mt-4">
  <!-- Formulario para agregar o modificar datos cl√≠nicos -->
    <div class="card p-4 mb-4 shadow">
    <h4 class="text-center mb-3"> Contraindicaciones ‚ö†Ô∏è </h4>
    <form @submit.prevent="manejarFormulario">
      <p v-if="usuarioId" class="text-center form-label bg-warning-subtle d-block p-2 rounded">
        ID Usuario: {{ usuarioId }}   <span style="margin-left: 30px;"> </span>    M√≥vil: {{usuarioMovil }}
      </p>
      <p v-else class="text-center form-label bg-warning-subtle d-block p-2 rounded"> Usuario No Seleccionado</p>
        <br>
      <div class="row">
      <!--Cera Caliente -->
      <div class="col-md-12 mb-3">
        <div class="d-flex align-items-center">
          <label for="ceraCaliente" class="form-label me-2" style="min-width: 250px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
            Cera Tibia üå°Ô∏è:
          </label>
          <div class="d-flex flex-wrap">
            <div class="form-check me-4" v-for="(contraindicacion) in ceraTibia" :key="contraindicacion.id">
              <input class="form-check-input" type="checkbox" :id="contraindicacion.id" :value="contraindicacion.value" v-model="contraIndicaciones.ceraTibia" />
              <label class="form-check-label" :for="contraindicacion.id">
                {{ contraindicacion.value }}
              </label>
            </div>
          </div>
        </div>
      </div>
      <!-- L√≠nea separadora -->
        <div class="row">
        <div class="col-12 mb-3">
            <hr class="custom-divider" />
        </div>
        </div>
      </div>
      <div class="row">
      <!--Cera Caliente -->
      <div class="col-md-12 mb-3">
        <div class="d-flex align-items-center">
          <label for="ceraCaliente" class="form-label me-2 mb-3" style="min-width: 250px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
            Cera Caliente üå°Ô∏è:
          </label>
          <div class="d-flex flex-wrap">
            <div class="form-check me-4" v-for="(contraindicacion) in ceraCaliente" :key="contraindicacion.id">
              <input class="form-check-input" type="checkbox" :id="contraindicacion.id" :value="contraindicacion.value" v-model="contraIndicaciones.ceraCaliente" />
              <label class="form-check-label" :for="contraindicacion.id">
                {{ contraindicacion.value }}
              </label>
            </div>
          </div>
        </div>
      </div>
      <!-- L√≠nea separadora -->
        <div class="row">
        <div class="col-12 mb-3">
            <hr class="custom-divider" />
        </div>
        </div>
      </div>
      <div class="row">
        <div class="row">
      <!-- Depilaci√≥n El√©ctrica -->
      <div class="col-md-12 mb-3">
        <div class="d-flex align-items-center">
          <label for="depilacionElectrica" class="form-label me-2" style="min-width: 250px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
            Depilaci√≥n El√©ctrica ‚ö° :
          </label>
          <div class="d-flex flex-wrap">
            <div class="form-check me-4 mb-3" v-for="(contraindicacion) in depilacionesElectrica" :key="contraindicacion.id">
              <input class="form-check-input" type="checkbox" :id="contraindicacion.id" :value="contraindicacion.value" v-model="contraIndicaciones.depilacionesElectrica" />
              <label class="form-check-label" :for="contraindicacion.id">
                {{ contraindicacion.value }}
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>
      <!-- L√≠nea separadora -->
        <div class="row">
        <div class="col-12 mb-3">
            <hr class="custom-divider" />
        </div>
        </div>
         <!-- Fotodepilaci√≥n -->
      <div class="col-md-12 mb-3">
        <div class="d-flex align-items-center">
          <label for="depilacionElectrica" class="form-label me-2" style="min-width: 250px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
            Fotodepilaci√≥n üåÖ :
          </label>
          <div class="d-flex flex-wrap">
            <div class="form-check me-4 mb-3" v-for="(contraindicacion) in fotoDepilacion" :key="contraindicacion.id">
              <input class="form-check-input" type="checkbox" :id="contraindicacion.id" :value="contraindicacion.value" v-model="contraIndicaciones.fotoDepilacion" />
              <label class="form-check-label" :for="contraindicacion.id">
                {{ contraindicacion.value }}
              </label>
            </div>
          </div>
        </div>
      </div>
    </div>
      <!-- L√≠nea separadora -->
        <div class="row">
        <div class="col-12 mb-3">
            <hr class="custom-divider" />
        </div>
        </div>
        <div class="row">
      <!-- Observaciones -->
      <div class="col-md-12 mb-3">
     <label for="observaciones" class="form-label">Observaciones üìù : </label>
     <textarea v-model="contraIndicaciones.observaciones" id="observaciones" class="form-control" rows="3"></textarea>
      </div>  
    </div> 
        
        <!-- Botones para guardar o modificar los datos piel -->
        <div class="d-flex justify-content-center">
            <div class="d-flex justify-content-center">
              <!-- Solo muestra el bot√≥n "Modificar Datos" si hay un usuario seleccionado -->
              <button type="submit" class="btn btn-primary w-10 mt-3" :disabled="!usuarioId">
                Modificar Datos
              </button>
            </div>
          </div>
    </form>
  </div>
</div>
</template>

<script>
export default{
    data (){
        return {
            contraIndicaciones: {
              ceraCaliente:[],
              ceraTibia: [],
              depilacionesElectrica: [],
              fotoDepilacion: [],
              observaciones: null       
            }, 

        ceraCaliente: [
        { id: "acne", value: "Acn√©" },
        { id: "dermantosis", value: "Dermatosis" },
        { id: "circulacion", value: "Problemas Circulaci√≥n" },
        { id: "varicosidades", value: "Varicosidades" },
        { id: "telangiectasias", value: "Telangiectasias" }
      ],
        ceraTibia: [
            { id: "acne", value: "Acn√©" },
            { id: "dermantosis", value: "Dermatosis" },
            { id: "circulacion", value: "Trastornos Circulaci√≥n" },
            { id: "grandesvarices", value: "Grandes Varices" },
            { id: "flacidez", value: "Flacidez" }
      ],
        depilacionesElectrica: [
            { id: "acne", value: "Acn√©" },
            { id: "heridas", value: "Heridas" },
            { id: "inflamacion", value:"Inflamaciones"},
            { id: "irritacion", value: "Irritaciones"},
            { id: "foliculos", value: "Fol√≠culos Inflamados" },
            { id: "eczemas", value: "Ezcemas" },
            { id: "embarazo", value: "Embarazo" },
            { id: "diu", value: "DIU" },
            { id: "marcapasos", value: "Marcapasos" },
            { id: "coronas", value: "Coronas dentarias" },
            { id: "hilos", value: "Hilos de oro" },
            { id: "epilepsia", value: "Epilepsia" },
        ],
        fotoDepilacion: [
            { id: "cisretinoico", value: "Tratamiento √Åcido CisRetinoico" },
            { id: "neoplasias", value: "Neoplasias" },
            { id: "fotosensibilidad", value:"Fotosensibilidad"},
            { id: "fiebre", value: "Fiebre"},
            { id: "infeccion", value: "Infecciones Agudas" },
            { id: "cutaneas", value: "Infecciones Cut√°neas" },
            { id: "inmunodeficiencia", value: "Inmunodeficiencias v√≠ricas" },
            { id: "herpes", value: "Herpes" },
            { id: "cicatrizacion", value: "Problemas cicatrizaci√≥n" },
            { id: "varices", value: "Varices" },
            { id: "flebitis", value: "Flebitis" },
            { id: "arteriopatias", value: "Arteriopat√≠as" },
            { id: "tumores", value: "Tumores" },
            { id: "epilepsia", value: "Epilepsia" },
            { id: "inmunodeprimido", value: "Inmunodeprimido" },
            { id: "lesionpiel", value: "Lesiones Piel" },
            { id: "pigmentos", value: "Lesiones Pigmentarias" },
            { id: "nevus", value: "Nevus" },
            { id: "tatuajes", value: "Tatuajes" },
            { id: "micropigmento", value: "Micropigmentaci√≥n" },
        ]
      }
    },
  
  computed:{
  // Accede al usuarioId y usuarioMovil desde Vuex
    usuarioId() {
      return this.$store.getters.getUsuarioId; // Obtiene el usuarioId desde Vuex
    },
    usuarioMovil() {
      return this.$store.getters.getUsuarioMovil; // Obtiene el usuarioMovil desde Vuex
    }
  },

  created() {
    // Usar el usuarioId para hacer alguna acci√≥n inicial si es necesario
    console.log('ID del usuario en HabitosVida.vue:', this.usuarioId);
    console.log('M√≥vil del usuario en HabitosVida.vue:', this.usuarioMovil);
    
    // Si es necesario, puedes hacer una llamada API para cargar los h√°bitos de vida del usuario
    // Ejemplo:
    // this.cargarHabitosVida(this.usuarioId); // Llamar a una funci√≥n que cargue los h√°bitos de vida
  },

manejarFormulario() {
      if (this.usuarioId) {
        console.log('Modificando datos:', this.datosPiel);
      } else {
        console.log('Guardando nuevos datos:', this.datosPiel);
      }
    }
}
</script>
<style scoped>
/* Estilos para el formulario de datos cl√≠nicos */
.container {
  max-width: 1400px;
}
.custom-divider {
  border: 0;
  height: 2px; /* Aument√© el grosor */
  background-color: #f06292; /* Color rosado */
  margin: 10px 0;
  width: 100%; /* La l√≠nea ocupar√° el 100% del contenedor */
}
.card {
  padding: 20px;
}
.text-center.form-label.bg-warning-subtle {
  background: radial-gradient(circle, #fff3b0 0%, #ffffff 100%);
  color: #343a40; /* Color oscuro para el texto, resalta bien sobre el fondo amarillo */
  font-weight: bold; /* Acent√∫a el texto para mayor visibilidad */
  padding: 8px;
  border-radius: 5px; /* Bordes redondeados para un acabado m√°s suave */
}
.form-label {
  font-weight: 600;
}

textarea {
  resize: none;
}

.btn {
  background-color: #5bc0de;
  color: white;
}
</style>

